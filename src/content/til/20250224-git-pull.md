---
title: git pull
date: 2025-02-24
---

# Git pull

## TL;DR

1. `git fetch`
2. `git merge`

You're using git pull probably because git is telling you that your branch is
behind the remote version of your branch. Don't do this.

You need to actually know what you're doing.

New code only ever ends up in the default branch after a pull request is merged.

## Some git concepts

The default branch in this article is called `main`.

GitHub is a remote that is called `origin`.

The default branch on GitHub is referred to as `origin/main`.

```
A-B-C
```

You branch off

```
origin/main: A-B-C
     \
      my-feature
```

Let's say a colleague merges a pull request and now the situation on GitHub
looks like this

```
main: A-B-C-D
```

GitHub does not know anything about your `my-feature` branch if you have not
pushed your work to GitHub yet.

If you next run `git fetch` on your machine, your machine now knows about the
new commit `D` that was added to `ma

```shell
git branch -vv
```

## Prerequisites

Ensure your local `main` branch is setup to track `origin/main` by running

```shell
$ git branch -vv
* main <hash> [origin/main] <commit message>
```

```shell
git branch --set-upstream-to=origin/main main
```

This makes sure that the local branch `main` is tracking `origin/main`. This
setup is crucial for ensuring that `git merge` will work as intended.

```shell
git config set [--global] merge.ff only
```

This setting is needed to enforce a strict fast-forward-only policy. It ensures
`git merge` will only perform fast-forward merges. If a fast-foward merge is not
possible, the `git merge` operation will fail with a prompt to handle the
situation manually.

```shell
git config set [--global] pull.ff only
```

This setting is only needed so that an accidental `git pull` will never create
unnecessary merge commits. If a fast-forward merge is not possible, the
`git pull` operation will fail with a prompt to handle the situation manually.

```shell
git branch --set-upstream-to=origin/main main
```

Make sure that the upstream branch for `main` is set to `origin/main`.
