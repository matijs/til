---
title: Remove node_modules quickly
date: 2024-10-23
---

# Remove node_modules quickly

A fast way to remove all `node_modules` directories in a mono repository is
`git clean -Xdf -- :/` in the root of the worktree.

`-f` is pretty much always needed to make git actually remove something, unless
`clean.requireForce` is set to `false`.

`-d` is used to recurse into untracked directories.

`-X` is used to only remove files that are ignored by git. Usually
`node_modules/` is ignored.

The pathspec `:/` (meh?) means this command can be run from anywhere in a mono
repo.

> [!CAUTION] This will not just remove `node_modules`, it will remove all
> directories and files that are ignored by Git.
