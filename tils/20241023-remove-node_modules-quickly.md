---
title: Remove node_modules quickly
date: 20241023
...

# Remove node_modules quickly

A fast way to remove all `node_modules` directories in a mono repository is
`git clean -Xdf` in the root of the worktree.

`-f` is pretty much always needed to make git actually remove something, unless
`clean.requireForce` is set to `false`.

`-d` is used to recurse into untracked directories which is necessary because
there is no other pathspec.

`-X` is used to only remove files that are ignored by git. Usually
`node_modules/` is ignored. Apparently some people apparently even have
`node_modules` under version control these days so your milage may vary.

> [!CAUTION]
> Make sure to stash or commit untracked files that you want to keep or they will
> be removed.
